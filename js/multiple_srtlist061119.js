var favClck=!1;function addShortListMul(e,t,n){if(!favClck&&null!=e&&""!=e&&null!=t&&""!=t){favClck=!0;var a=new sack;a.requestFile="/study/addshortlist.html?sid="+e+"&action="+t+"&screenSize="+screenWidth(),a.onCompletion=function(){updateResponseMul(a,e,t,n)},a.runAJAX()}return!1}function removeShortListedMul(e,t,n){if(null!=e&&""!=e&&null!=t&&""!=t){changeShortListMul("remove",e,t,n);var a=new sack;a.requestFile="/study/removeShorlistItem.html?assocId="+e+"&type="+t+"&ajaxremove=Y",a.onCompletion=function(){RemoveshortListResponseMul(a,e,t,n)},a.runAJAX()}return!1}function changeShortListMul(e,t,n,a){var s="shrVwFavPopId-"+a;null!=e&&"add"==e?(checkIsCourseCollegeShortlistMul("Y",t,n,a),$(".shr_pop").hide(),showHideFn(s,"block")):(checkIsCourseCollegeShortlistMul("N",t,n,a),showHideFn(s,"none"))}function updateResponseMul(e,t,n,a){favClck=!1;var s=e.response;if(null!=s){if("O"==n){var l=$("#countryId").val();saveUserPreference("","",l,"Provider Results","Y",t)}if("DUPLICATE_ITEM_ADDED"==s)alert("Your choice is already in your favourite list. Please add a different one."),changeShortListMul("add",t,n,a);else if("MAX_LIMIT_REACHED"==s)showFavShortListWarn("Y",a);else{changeShortListMul("add",t,n,a);var o=s.split("##");null!=o&&1<o.length&&0<o[1]&&($("#shortlistcount").attr("class","sht_cout sht_cout1").show(),isValidObject("topNavlogIcn")&&$1("topNavlogIcn").setAttribute("href","javascript:void(0);"),(1<o.length&&null!=o[2]||2<o.length&&null!=o[3])&&(showHideFn("short_list_pod","block"),1<o.length&&0<o[2]&&(showHideFn("shrtLstCrseId","block"),$("#shrtLstCrseCnt").html(o[2])),2<o.length&&0<o[3]&&(showHideFn("shrtLstClgId","block"),$("#shrtLstClgCnt").html(o[3])))),null!=o&&3<o.length&&null!=o[4]&&"Y"==o[4]&&callGaShortlistMul(n,a)}}return!1}function RemoveshortListResponseMul(e,t,n,a){var s=e.response;if(null!=s&&""!=s){var l=s.split("##");if(null!=l&&1<l.length&&0<l[1]){$("#shortlistcount").attr("class","sht_cout sht_cout1").show(),isValidObject("topNavlogIcn")&&$1("topNavlogIcn").setAttribute("href","javascript:void(0);"),(1<l.length&&null!=l[2]||2<l.length&&null!=l[3])&&(showHideFn("short_list_pod","block"),1<l.length&&0<l[2]?(showHideFn("shrtLstCrseId","block"),$("#shrtLstCrseCnt").html(l[2])):(showHideFn("shrtLstCrseId","none"),$("#shrtLstCrseCnt").html("")),2<l.length&&0<l[3]?(showHideFn("shrtLstClgId","block"),$("#shrtLstClgCnt").html(l[3])):(showHideFn("shrtLstClgId","none"),$("#shrtLstClgCnt").html("")));var o="2"==$("#hidParQualId").val()?"undergraduate":"3"==$("#hidParQualId").val()?"postgraduate":"career based/vocational";ga("send","event","Shortlist","Heart removed","Course",1,{dimension1:$("#dimension1GaName").val(),dimension2:null!=$("#hidChildCatNameEng").val()?$("#hidChildCatNameEng").val():$("#hidParentCatNameEng").val(),dimension3:$("#gaColgName-"+a).val(),dimension4:isBlankOrNull(o)?"":o,dimension5:$("#gaCountryName-"+a).val(),dimension8:$("#isAdvertiser").val(),nonInteraction:1})}else!isValidObject("logInUsrName")&&isValidObject("topNavlogIcn")&&$1("topNavlogIcn").setAttribute("href",contextPath+"/loginhome.html"),$("#shortlistcount").html(""),$("#shortlistcount").attr("class",""),$("#shrtLstCrseCnt").html(""),$("#shrtLstClgCnt").html(""),showHideFn("shrtLstCrseId","none"),showHideFn("shrtLstClgId","none"),showHideFn("short_list_pod","none");removePropertyFromTag()}return!1}function checkIsCourseCollegeShortlistMul(e,t,n,a){screen.width,screen.width;var s="shrtId-"+a;isValidObject(s)&&(s="#"+s,showFavShortListWarn("N",a),null!=e&&"Y"==e?($(s).addClass("act").removeAttr("onmouseover").removeAttr("onmouseout").attr("onclick","return removeShortListedMul('"+t+"', '"+n+"', '"+a+"');"),$("#shrTlTip-"+a).hide()):($(s).removeClass("act"),$(s).attr("onmouseover","showHideFn('shrTlTip-"+a+"', 'block');").attr("onmouseout","showHideFn('shrTlTip-"+a+"', 'none');").attr("onclick","return addShortListMul('"+t+"', '"+n+"', '"+a+"');")))}function showFavShortListWarn(e,t){var n="shrVwFavPopId-"+t;"Y"==e?($("#"+n).addClass("rmv_ic").show(),$("#"+n+" p").show()):($("#"+n).removeClass("rmv_ic"),$("#"+n+" p").hide())}function callGaShortlistMul(e,t){if(null!=e&&""!=e)if("C"!=e||isBlankOrNull($("#gaColgName-"+t).val())||("download prospectus submitted"==$("#dimension1GaName").val()?ga("send","event","Shortlist","Post DP",$("#gaColgName-"+t).val(),1,{nonInteraction:1}):"User Profile-My Enquiries"==$("#enqDimension1GaName").val()?ga("send","event","Shortlist","Heart Shape",$("#gaColgName-"+t).val(),1,{dimension1:getIdValue("enqDimension1GaName"),nonInteraction:1}):"cpc college list"==$("#dimension1GaName").val()?ga("send","event","Shortlist","Heart Shape",$("#gaColgName-"+t).val(),1,{dimension1:"cpc college list",dimension3:$("#gaColgName-"+t).val(),nonInteraction:1}):ga("send","event","Shortlist","Heart Shape",$("#gaColgName-"+t).val(),1,{nonInteraction:1})),"User Profile-My Enquiries"==$("#enqDimension1GaName").val()&&"O"==e)ga("send","event","Shortlist","Heart Shape","Course",1,{dimension1:getIdValue("enqDimension1GaName"),nonInteraction:1});else if("Provider Results"!=$("#dimension1GaName").val()&&"O"==e)ga("send","event","Shortlist","Heart Shape","Course",1,{nonInteraction:1});else if("Provider Results"==$("#dimension1GaName").val()&&"O"==e){var n="2"==$("#hidParQualId").val()?"undergraduate":"3"==$("#hidParQualId").val()?"postgraduate":"career based/vocational";ga("send","event","Shortlist","Heart Shape","Course",1,{dimension1:$("#dimension1GaName").val(),dimension2:null!=$("#hidChildCatNameEng").val()?$("#hidChildCatNameEng").val():$("#hidParentCatNameEng").val(),dimension3:$("#gaColgName-"+t).val(),dimension4:isBlankOrNull(n)?"":n,dimension5:$("#gaCountryName-"+t).val(),dimension8:$("#isAdvertiser").val(),nonInteraction:1})}ga("newTracker.set","dimension1","shortlisted"),ga("newTracker.set","dimension2",$("#gaInsiteSiteName").val()),isBlankOrNull($("#gaCollegeId-"+t).val())||ga("newTracker.set","dimension3",$("#gaCollegeId-"+t).val()),isBlankOrNull($("#gaCountryName-"+t).val())||ga("newTracker.set","dimension13",$("#gaCountryName-"+t).val().toUpperCase().replace("US-USA","USA")),isBlankOrNull($("#gaCourseTitle-"+t).val())||ga("newTracker.set","dimension14",$("#gaCourseTitle-"+t).val()),isBlankOrNull($("#gaUserIdLog").val())||ga("newTracker.set","dimension15",$("#gaUserIdLog").val()),ga("newTracker.send","pageview")}function viewComp(e){return url=contextPath+"/compare-"+("C"==e?"college":"course")+".html?from=heartshape",window.location.href=url,!1}